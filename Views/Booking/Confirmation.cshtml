@model FribergCarRentals_GOhman.Models.Booking;

@{
    ViewData["Title"] = "Success!";
}
<div class="transition">

<h2>Success! Booking created</h2>

<img class="img-gallery" src="@Html.DisplayFor(model => model.Car.ImgURL)" alt="@Html.DisplayFor(model => model.Car.ImgURL) image" />
<dl class="row">
    <dt class="col-sm-2">
        @Html.DisplayNameFor(model => model.StartDate)
    </dt>
    <dd class="col-sm-10">
        @Html.DisplayFor(model => model.StartDate)
    </dd>
    <dt class="col-sm-2">
        @Html.DisplayNameFor(model => model.StopDate)
    </dt>
    <dd class="col-sm-10">
        @Html.DisplayFor(model => model.StopDate)
    </dd>
    <dt class="col-sm-2">
        @Html.DisplayNameFor(model => model.Car.Model)
    </dt>
    <dd class="col-sm-10">
        @Html.DisplayFor(model => model.Car.Model)
    </dd>
    <dt class="col-sm-2">
        @Html.DisplayNameFor(model => model.Car.Gearbox)
    </dt>
    <dd class="col-sm-10">
        @Html.DisplayFor(model => model.Car.Gearbox)
    </dd>
    <dt class="col-sm-2">
        Fuel
    </dt>
    <dd class="col-sm-10">
        @Html.DisplayFor(model => model.Car.FuelType)
    </dd>
    <dt class="col-sm-2">
        Price per day:
    </dt>
    <dd class="col-sm-10">
        @Html.DisplayFor(model => model.Car.PricePerDay) SEK
    </dd>
    <dt class="col-sm-2">
        Total Price:
    </dt>
    <dd class="col-sm-10">
        @{
            TimeSpan duration = Model.StopDate.Subtract(Model.StartDate);
            double hours = duration.TotalHours <= 24 ? 1 : duration.TotalDays;
            double price = Math.Round(hours * Model.Car.PricePerDay, 0);
            <p>@price SEK</p>
        }
    </dd>
</dl>
<a class="btn btn-link" asp-action="Index">Return</a>
</div>